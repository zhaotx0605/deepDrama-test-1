# ğŸš€ DeepDrama å‰ç«¯å¯åŠ¨æŒ‡å—

## ğŸ“Œ å‰ææ¡ä»¶

âœ… **åç«¯å·²å¯åŠ¨**ï¼šJavaåç«¯è¿è¡Œåœ¨ `http://localhost:8080`  
âœ… **Node.jså·²å®‰è£…**ï¼šç‰ˆæœ¬ 16+ 
âœ… **ä¾èµ–å·²å®‰è£…**ï¼šå‰ç«¯ç›®å½•ä¸‹å·²æœ‰ `node_modules/`

---

## ğŸ¯ æ–¹æ³•ä¸€ï¼šå¼€å‘æ¨¡å¼å¯åŠ¨ï¼ˆæ¨èç”¨äºæœ¬åœ°å¼€å‘ï¼‰

### 1. æ‰“å¼€ç»ˆç«¯ï¼Œè¿›å…¥å‰ç«¯ç›®å½•
```bash
cd /home/user/webapp/frontend
```

### 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
npm run dev
```

### 3. è®¿é—®å‰ç«¯
å¯åŠ¨åä¼šæ˜¾ç¤ºï¼š
```
  VITE v7.2.4  ready in 500 ms

  âœ  Local:   http://localhost:5173/
  âœ  Network: use --host to expose
```

**åœ¨æµè§ˆå™¨æ‰“å¼€**: `http://localhost:5173`

### 4. å¼€å‘æ¨¡å¼ç‰¹ç‚¹
- âœ… **çƒ­æ›´æ–°**ï¼šä¿®æ”¹ä»£ç åè‡ªåŠ¨åˆ·æ–°æµè§ˆå™¨
- âœ… **å¿«é€Ÿå¯åŠ¨**ï¼šæ— éœ€æ„å»ºï¼Œç§’çº§å¯åŠ¨
- âœ… **è°ƒè¯•å‹å¥½**ï¼šæºç æ˜ å°„ï¼Œæ–¹ä¾¿è°ƒè¯•
- âœ… **è‡ªåŠ¨è¿æ¥åç«¯**ï¼šå·²é…ç½®ä»£ç†åˆ° `http://localhost:8080`

### 5. åœæ­¢æœåŠ¡
åœ¨ç»ˆç«¯æŒ‰ `Ctrl + C`

---

## ğŸ¯ æ–¹æ³•äºŒï¼šä½¿ç”¨PM2å¯åŠ¨ï¼ˆç”¨äºç”Ÿäº§æˆ–åå°è¿è¡Œï¼‰

### ä»€ä¹ˆæ˜¯PM2ï¼Ÿ
PM2 æ˜¯ Node.js è¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œç”¨äºï¼š
- è®©æœåŠ¡åœ¨åå°æŒç»­è¿è¡Œ
- è‡ªåŠ¨é‡å¯å´©æºƒçš„æœåŠ¡
- ç®¡ç†æ—¥å¿—å’Œç›‘æ§

### 1. åˆ›å»ºPM2é…ç½®æ–‡ä»¶
å‰ç«¯ç›®å½•ä¸‹å·²æœ‰ `ecosystem.config.cjs`ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```javascript
module.exports = {
  apps: [
    {
      name: 'deepdrama-frontend',
      script: 'npx',
      args: 'vite --host 0.0.0.0 --port 5173',
      cwd: '/home/user/webapp/frontend',
      instances: 1,
      exec_mode: 'fork',
      watch: false,
      env: {
        NODE_ENV: 'development',
        PORT: 5173
      }
    }
  ]
}
```

### 2. ä½¿ç”¨PM2å¯åŠ¨
```bash
cd /home/user/webapp/frontend
pm2 start ecosystem.config.cjs
```

### 3. PM2 å¸¸ç”¨å‘½ä»¤
```bash
# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡çŠ¶æ€
pm2 list

# æŸ¥çœ‹å‰ç«¯æ—¥å¿—ï¼ˆå®æ—¶ï¼‰
pm2 logs deepdrama-frontend

# æŸ¥çœ‹å‰ç«¯æ—¥å¿—ï¼ˆæœ€è¿‘20è¡Œï¼‰
pm2 logs deepdrama-frontend --nostream --lines 20

# é‡å¯å‰ç«¯æœåŠ¡
pm2 restart deepdrama-frontend

# åœæ­¢å‰ç«¯æœåŠ¡
pm2 stop deepdrama-frontend

# åˆ é™¤å‰ç«¯æœåŠ¡
pm2 delete deepdrama-frontend

# æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
pm2 info deepdrama-frontend
```

### 4. è®¿é—®å‰ç«¯
PM2å¯åŠ¨åï¼Œæµè§ˆå™¨è®¿é—®ï¼š`http://localhost:5173`

---

## ğŸ¯ æ–¹æ³•ä¸‰ï¼šæ„å»ºç”Ÿäº§ç‰ˆæœ¬ï¼ˆç”¨äºéƒ¨ç½²ï¼‰

### 1. æ„å»ºé¡¹ç›®
```bash
cd /home/user/webapp/frontend
npm run build
```

æ„å»ºå®Œæˆåï¼Œä¼šç”Ÿæˆ `dist/` ç›®å½•ï¼ŒåŒ…å«ä¼˜åŒ–åçš„é™æ€æ–‡ä»¶ã€‚

### 2. é¢„è§ˆæ„å»ºç»“æœ
```bash
npm run preview
```

æˆ–ä½¿ç”¨HTTPæœåŠ¡å™¨ï¼š
```bash
npx serve dist
```

---

## ğŸ”§ å¸¸è§é—®é¢˜

### Q1: npm run dev å¯åŠ¨å¤±è´¥ï¼Ÿ
**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# é‡æ–°å®‰è£…ä¾èµ–
cd /home/user/webapp/frontend
rm -rf node_modules package-lock.json
npm install
```

### Q2: è¿æ¥åç«¯å¤±è´¥ï¼ˆNetwork Errorï¼‰ï¼Ÿ
**æ£€æŸ¥é¡¹**ï¼š
1. Javaåç«¯æ˜¯å¦åœ¨è¿è¡Œï¼Ÿ
   ```bash
   curl http://localhost:8080/api/stats
   ```
2. APIåœ°å€æ˜¯å¦æ­£ç¡®ï¼Ÿ
   - æ£€æŸ¥ `src/api/index.js` çš„ `BASE_URL` æ˜¯å¦ä¸º `http://localhost:8080`

### Q3: é¡µé¢ç©ºç™½æˆ–404ï¼Ÿ
**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯
2. ç¡®è®¤ Vite å¼€å‘æœåŠ¡å™¨æ­£åœ¨è¿è¡Œ
3. è®¿é—®æ­£ç¡®çš„åœ°å€ï¼ˆé»˜è®¤ `http://localhost:5173`ï¼‰

### Q4: PM2å¯åŠ¨åè®¿é—®ä¸äº†ï¼Ÿ
**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æŸ¥çœ‹PM2æ—¥å¿—ï¼Œå®šä½é”™è¯¯
pm2 logs deepdrama-frontend --nostream --lines 50

# æ£€æŸ¥ç«¯å£å ç”¨
lsof -i :5173

# å¦‚æœç«¯å£è¢«å ç”¨ï¼Œæ€æ‰è¿›ç¨‹
fuser -k 5173/tcp
```

### Q5: æ„å»ºè¶…æ—¶æˆ–å¡ä½ï¼Ÿ
**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# ç»ˆæ­¢å¡ä½çš„æ„å»º
pkill -f "vite build"

# æ¸…ç†ç¼“å­˜åé‡è¯•
rm -rf node_modules/.vite
npm run build
```

---

## ğŸ“Š å®Œæ•´çš„å‰åç«¯è”è°ƒæµç¨‹

### 1. å¯åŠ¨åç«¯ï¼ˆJavaï¼‰
```bash
cd /home/user/webapp/backend
mvn spring-boot:run
# æˆ–
java -jar target/deepdrama-0.0.1-SNAPSHOT.jar
```
**åç«¯è¿è¡Œåœ¨**: `http://localhost:8080`

### 2. å¯åŠ¨å‰ç«¯ï¼ˆVueï¼‰
```bash
cd /home/user/webapp/frontend
npm run dev
```
**å‰ç«¯è¿è¡Œåœ¨**: `http://localhost:5173`

### 3. æµ‹è¯•APIè¿æ¥
æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼ˆF12ï¼‰ï¼ŒæŸ¥çœ‹Networkè¯·æ±‚ï¼š
- âœ… è¯·æ±‚åœ°å€ï¼š`http://localhost:8080/api/stats`
- âœ… å“åº”çŠ¶æ€ï¼š200 OK
- âœ… è¿”å›æ•°æ®ï¼šJSONæ ¼å¼çš„ç»Ÿè®¡æ•°æ®

---

## ğŸŒ è®¿é—®åœ°å€æ±‡æ€»

| æœåŠ¡ | åœ°å€ | è¯´æ˜ |
|------|------|------|
| **Javaåç«¯** | http://localhost:8080 | Spring Boot APIæœåŠ¡ |
| **Vueå‰ç«¯ï¼ˆå¼€å‘ï¼‰** | http://localhost:5173 | Viteå¼€å‘æœåŠ¡å™¨ |
| **APIæµ‹è¯•** | http://localhost:8080/api/stats | ç»Ÿè®¡æ•°æ®æ¥å£ |
| **APIæ–‡æ¡£** | è§ `JAVA_BACKEND_GUIDE.md` | å®Œæ•´APIåˆ—è¡¨ |

---

## ğŸ’¡ æ¨èå·¥ä½œæµç¨‹

### æœ¬åœ°å¼€å‘ï¼ˆæ¨èï¼‰
```bash
# ç»ˆç«¯1ï¼šå¯åŠ¨åç«¯
cd /home/user/webapp/backend
mvn spring-boot:run

# ç»ˆç«¯2ï¼šå¯åŠ¨å‰ç«¯
cd /home/user/webapp/frontend
npm run dev
```

### åå°è¿è¡Œï¼ˆå¯é€‰ï¼‰
```bash
# ä½¿ç”¨PM2ç®¡ç†å‰ç«¯ï¼ˆåç«¯ç”¨ nohup æˆ–ç›´æ¥IDEè¿è¡Œï¼‰
cd /home/user/webapp/frontend
pm2 start ecosystem.config.cjs
pm2 logs deepdrama-frontend  # æŸ¥çœ‹æ—¥å¿—
```

---

## ğŸ“ æ–‡ä»¶ç»“æ„è¯´æ˜

```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ App.vue          # ä¸»ç»„ä»¶ï¼ˆæ•°æ®çœ‹æ¿ã€å‰§æœ¬ç®¡ç†ã€æ’è¡Œæ¦œï¼‰
â”‚   â”œâ”€â”€ main.js          # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ index.js     # APIæ¥å£å®šä¹‰ï¼ˆè¿æ¥åç«¯ï¼‰
â”‚   â””â”€â”€ assets/          # é™æ€èµ„æº
â”œâ”€â”€ public/              # å…¬å…±æ–‡ä»¶
â”œâ”€â”€ dist/                # æ„å»ºäº§ç‰©ï¼ˆnpm run build ç”Ÿæˆï¼‰
â”œâ”€â”€ package.json         # é¡¹ç›®é…ç½®
â”œâ”€â”€ vite.config.js       # Viteé…ç½®
â””â”€â”€ ecosystem.config.cjs # PM2é…ç½®
```

---

## ğŸ‰ å¿«é€ŸéªŒè¯

å¯åŠ¨å‰ç«¯åï¼Œæ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:5173`ï¼Œä½ åº”è¯¥çœ‹åˆ°ï¼š

âœ… **æ•°æ®çœ‹æ¿**ï¼šæ˜¾ç¤ºæ€»å‰§æœ¬æ•°ã€è½¬åŒ–ç‡ã€å¾…è¯„æ•°ã€å¹³å‡åˆ†  
âœ… **å‰§æœ¬ç®¡ç†**ï¼šå¯æœç´¢ã€ç­›é€‰ã€æŸ¥çœ‹å‰§æœ¬åˆ—è¡¨  
âœ… **è¯„åˆ†ç³»ç»Ÿ**ï¼šç‚¹å‡»"è¯„åˆ†"æŒ‰é’®å¯å¼¹å‡ºè¯„åˆ†è¡¨å•  
âœ… **æ’è¡Œæ¦œ**ï¼šæ˜¾ç¤ºTop100å‰§æœ¬  

å¦‚æœé¡µé¢åŠ è½½æ­£å¸¸ï¼Œè¯´æ˜å‰ç«¯å¯åŠ¨æˆåŠŸï¼ğŸŠ

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š
1. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°ï¼ˆF12 â†’ Consoleï¼‰
2. æŸ¥çœ‹ç»ˆç«¯é”™è¯¯ä¿¡æ¯
3. æ£€æŸ¥åç«¯æ˜¯å¦æ­£å¸¸è¿è¡Œï¼š`curl http://localhost:8080/api/stats`
4. æŸ¥çœ‹PM2æ—¥å¿—ï¼š`pm2 logs deepdrama-frontend --nostream`

ç¥ä½ å¼€å‘é¡ºåˆ©ï¼ğŸš€
